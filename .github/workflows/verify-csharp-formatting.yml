name: "Verify C# formatting"

on:
  push:
    paths:
      - "languages/csharp/exercise/**/*.cs"
  pull_request:
    paths:
      - "languages/csharp/exercise/**/*.cs"

jobs:
  verify-csharp-for-repository:
    if: github.ref == 'refs/heads/master'
    runs-on: [ubuntu-latest]
    steps:
      - name: "Checkout code"
        uses: actions/checkout@v2

      - name: "Install .NET core"
        uses: actions/setup-dotnet@v1
        with:
          dotnet-version: "3.1.201"

      - name: "Verify C# formatting"
        run: |
          dotnet tool install -g dotnet-format
          dotnet format --check -f ./languages/csharp/exercises
